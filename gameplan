x - Apply crd in make e2e-up
x - Rename to capi-dns-controller
x - rebase
x - rename test
x - Deploy contour in make e2e-up
  - Make a deployment manifest for capi-gateway-dns
    - rbac
  - Deploy capi-gateway-dns in make e2e-up
  - Implement controller
  - create "make" task to run counterfeiter (or any go generate task)
    - consider reusing make generate for this
  - mgmt-cluster namespace tenancy:
    - CAPI-DNS controller only reads from Clusters in the same namespace as the
      GatewayDNS
    - CAPI-DNS controller only writes to Clusters in the same namespace as the
      GatewayDNS
  - rename cluster-a-gateway to not reference the cluster. It represents all of
    the clusters in a management namespace.


spec:
- clusterSelector: { ... }
- service: projectcontour/envoy
---
- watch gatewaydns (primary reconcile)
  - filter clusters that match clusterSelector
    - get secret for cluster
    - if resolutionType == loadBalancer
      - get loadbalancer ip using namespace and service in gatewaydnsrecord
      - else continue
    - for each cluster
      - write endpoint slice to cluster

- watch clusters

- watch clusters
  - if create/update cluster
    - start a watch for the cluster's service
  - if delete cluster
    - stop watch for the cluster's service

- watch service
  - maybe this can trigger the gatewaydnsrecord reconcile somehow?
